<%- content_for :head do-%>
<title>管理画面 | ユーザ | 一覧</title>
<%- end -%>

<div class="row">
  <div class="col s12 m10 offset-m1 l10 offset-l1">
    <div class="card">
      <div class="card-content">
        <span class="card-title black-text">
          ユーザ&nbsp;一覧
        </span>
        <div class="center-align">
        <%= paginate @users %>
        </div>
        <table class="bordered responsive-table">
          <thead>
            <tr>
              <th data-field="id">ID</th>
              <th data-field="email">メールアドレス</th>
              <th data-field="name">ユーザー名</th>
              <th data-field="ctrl" class="center-align">操作</th>
            </tr>
          </thead>
          <tbody>
            <%- @users.each do |user| -%>
            <tr>
              <td><%= user.id %></td>
              <td><%= user.email %></td>
              <td><%= user.name %></td>
              <td class="center-align">
                <%= link_to '編集', edit_user_path(user), class: 'waves-effect waves-light chip white-text wine-red mgn-top-5' %>
                <%= link_to '削除', user_path(user), method: :delete, class: 'waves-effect waves-light chip black-text mgn-top-5', data: { confirm: '本当に削除しますか？' } %>
              </td>
            </tr>
            <%- end -%>
          </tbody>
        </table>
        <div class="center-align">
          <%= paginate @users %>
        </div>
      </div>
      <div class="card-action right-align">
        <%= link_to "新規作成", "/admin/users/new", class: 'waves-effect waves-light btn white-text wine-red' %>
      </div>
    </div>
  </div>
</div>
